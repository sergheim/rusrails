h1. Асинхронность

Rails по умолчанию представляет синхронную очередь. Если хотите использовать асинхронную, следует настроить провайдер асинхронной очереди, такой как Resque. Предполагается, что у провайдера очереди имеется Railtie, в котором они настраивают собственную асинхронную чередь.

h4. Пользовательские очереди

Если для вашего рассыльщика необходима очередь иная, чем <tt>Rails.queue</tt>, можете использовать <tt>ActionMailer::Base.queue=</tt>:

<ruby>
class WelcomeMailer < ActionMailer::Base
  self.queue = MyQueue.new
end
</ruby>

или добавить в свой <tt>config/environments/$RAILS_ENV.rb</tt>:

<ruby>
config.action_mailer.queue = MyQueue.new
</ruby>

Ваша пользовательская очередь должна ожидать задание, отвечающее на <tt>#run</tt>.
